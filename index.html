<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/Icons/App Logo v2.png" type="image/x-icon">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">    

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/troops.css">
    <link rel="stylesheet" href="css/popup.css">
    <link rel="stylesheet" href="css/dropdown.css">
    <link rel="stylesheet" href="css/posts.css">

    <title>Pixel Siege</title>
    <meta name="description" content="Pixel Siege is a strategic, pixel-art collection game where you battle through endless waves of enemies, unlock a wide variety of unique troops, and face intense challenges and powerful bosses. Explore carefully crafted levels with a satisfying progression system and original storytelling.">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5406816563691804" crossorigin="anonymous"></script>
</head>

<body>

    <header>
        <div class="mainDiv row align-items-center">
            <div class="col-lg-1">
                <img src="images/transparent logo.png" class="ps-logo" alt="Pixel Siege retro blue/pink logo" />
            </div>

            <div class="col-lg mt-1 mt-lg-0">
                <div class="headerDiv justify-content-lg-end d-lg-flex">
                    <a href="/" class="navSelect navAlign">Home</a>
                    <a href="/play/" class="navSelect navAlign">Play</a>
                    <a href="https://store.pixel-siege.com" class="navSelect navAlign goldenBtn shine" target="_blank">Store</a>
                    <div class="ps-dropdown navAlign">
                        <a class="ps-dropdown-toggle">More</a>
                        <div class="ps-dropdown-menu">
                            <a href="/posts/" class="ps-dropdown-item navSelect">Posts</a>
                            <a href="/about/" class="ps-dropdown-item navSelect">About</a>
                            <a href="/privacy/" class="ps-dropdown-item navSelect">Privacy Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="fade-slide-up">
        
        <div class="mainDiv" style="background-image: url('images/background blue forest.webp')">
            
            <style>
                .playFeaturesDiv {
                    margin: 1.5rem -1rem;
                    margin-bottom: 2.2rem;
                    border-radius: 10px;
                }
                .playFeatureP {
                    margin: 0.5rem 0rem;
                    justify-self: center;
                    padding: 0.3rem 0.7rem;
                    background:rgba(63, 60, 67, 0.4);
                    box-shadow: 0 0 10px -1px rgba(30, 30, 30, 0.6);
                    border-radius: 7px;
                }
                .playFeaturesDiv .animatedBorder:first-of-type::before {
                    background-image: linear-gradient(90deg, rgba(245, 223, 79, 1), rgba(255, 144, 64, 1), rgba(255, 144, 64, 1), rgba(245, 223, 79, 1));
                }
                .playFeaturesDiv .animatedBorder:nth-of-type(2)::before {
                    background-image: linear-gradient(90deg, rgba(150, 235, 255, 1), rgba(173, 165, 255, 1), rgba(173, 165, 255, 1), rgba(150, 235, 255, 1));
                }
                .playFeaturesDiv .animatedBorder:nth-of-type(3)::before {
                    background-image: linear-gradient(90deg, rgba(255, 173, 216, 1), rgba(185, 120, 245, 1), rgba(185, 120, 245, 1), rgba(255, 173, 216, 1));
                }
                .playFeature {
                    color: transparent;
                    font-weight: bold;
                }
                #playFeature1 {
                    background: linear-gradient(116deg,rgba(245, 203, 79, 1) 17%, rgba(245, 144, 64, 1) 100%);
                    text-shadow: 0 0 5px rgba(255, 193, 79, 0.7);
                    -webkit-background-clip: text;
                    background-clip: text;
                }
                #playFeature2 {
                    background: linear-gradient(116deg,rgba(125, 218, 255, 1) 0%, rgba(193, 189, 255, 1) 70%);
                    text-shadow: 0 0 5px rgba(125, 218, 255, 0.7);
                    -webkit-background-clip: text;
                    background-clip: text;
                }
                #playFeature3 {
                    background: linear-gradient(116deg,rgba(255, 150, 201, 1) 0%, rgba(193, 148, 255, 1) 50%);
                    text-shadow: 0 0 5px rgba(255, 150, 201, 0.7);
                    -webkit-background-clip: text;
                    background-clip: text;
                }
            </style>

            <div class="row">
                <div class="col-xl-5 align-self-xl-center sectionDiv">
                    <h1>PLAY NOW FOR FREE!</h1>
                    <div>
                        <p>Pixel Siege is a real-time-strategy game in which you have to protect your tower against hordes of powerful enemies.</p>
                        <p>Collect unique troops, upgrade your tower, and beat all sorts of challenges!</p>
                    </div>
                    <div class="playFeaturesDiv">
                        <h4 class="mb-3">Why not give it a shot!?</h4>
                        <h5 class="playFeatureP animatedBorder">It's <span class="playFeature" id="playFeature1">free</span></h5>
                        <h5 class="playFeatureP animatedBorder"><span class="playFeature" id="playFeature2">Easy</span> to pick up</h5>
                        <h5 class="playFeatureP animatedBorder">And has <span class="playFeature" id="playFeature3">no ads</span></h5>
                    </div>
                    <a href="/play/" class="shakeRotation mb-4">PLAY</a>
                </div>

                <div class="col-xl">
                    <div id="carouselAboutPS" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="images/missions.webp" class="d-block w-100" alt="Colorful pixelated llama in front of Pixel Siege's daily missions screen with neon green text saying 'Complete challenging missions'">
                            </div>
                            <div class="carousel-item">
                                <img src="images/ranks.webp" class="d-block w-100" alt="Climb the ranks! screen in Pixel Siege showing level icons like Trainee I, Veteran II, and Legend V with orange neon text">
                            </div>
                            <div class="carousel-item">
                                <img src="images/collection.webp" class="d-block w-100" alt="Unlock a variety of unique troops in Pixel Siege, including a giant knight and a chess rook, with more units in the background">
                            </div>
                            <div class="carousel-item">
                                <img src="images/events.webp" class="d-block w-100" alt="Pixel Siege event screen showing a pixelated zombie and neon text 'Experience unique events' over a Soviet-style city at night">
                            </div>
                        </div>
                        <button class="carousel-control-prev carouselBtn" type="button" data-bs-target="#carouselAboutPS" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next carouselBtn" type="button" data-bs-target="#carouselAboutPS" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
            </div>

        <div class="mainDiv" style="overflow: hidden ; position: relative ; background-image: url('images/background troops.webp')">
            <h1>TROOPS, TROOPS, AND MORE TROOPS</h1>
            <h4>Seriously. There’s really a lot...</h4>
            
            <div class="troopList" id="troopList">
                </div>
        </div>

        <style>
            #pinata1 {
                position: absolute;
                top: clamp(-9rem, -14vw, -5rem);
                left: clamp(-2.4rem, -10vw, -10rem);
                width: clamp(7.5rem, 22vw, 14rem);
                z-index: 10;
                transform: rotate(211deg);
                animation: rotatePinata1 4s infinite ease-in-out;
            }
            #pinata2 {
                position: absolute;
                bottom: clamp(-12rem, -14vw, -6rem);
                right: clamp(-10rem, -12vw, -4.5rem);
                width: clamp(12rem, 25vw, 21rem);
                z-index: 10;
                transform: rotate(4deg);
                animation: rotatePinata2 5s infinite ease-in-out;
            }
            #instaDiv .animatedBorder::before {
                background-image: linear-gradient(90deg, rgb(255, 173, 216), rgb(67, 185, 74), rgb(238, 220, 130), rgb(255, 173, 216));
            }
        </style>

        <div class="mainDiv row" id="instaDiv" style="background-image: url('images/background cave.webp') ; overflow: hidden ; position: relative">
            <div class="col-sm-1">
                <img src="images/pinata.png" id="pinata1" />
            </div>
            <div class="col mx-1 mx-md-5 my-1 sectionDiv animatedBorder">
                <div style="z-index: 2;">
                    <h1>FOLLOW OUR OFFICIAL INSTAGRAM!</h1>
                    <a class="purpleBtn" href="https://www.instagram.com/pixel.siege" target="_blank">CHECK IT OUT</a>
                </div>
            </div>
            <div class="col-sm-1">
                <img src="images/pinata.png" id="pinata2" class="d-none d-sm-inline" />
            </div>
        </div>

        <div class="mainDiv" style="background-image: url('images/background campaign.webp')">
            <div class="row">
                <div class="col-xl-6 order-xl-2 align-self-xl-center sectionDiv">
                    <h1>STEP INTO THE CAMPAIGN</h1>
                    <section style="margin-bottom:1rem">
                        <h3 style="color:rgb(194, 114, 211)">Take part in the fight</h3>
                        <p>Progress through a light narrative spread across short chapters, each with its own theme and challenges.</p>
                        <p>Face unique stages, epic boss fights, and earn powerful rewards as you unlock new troops and push forward!</p>
                    </section>
                </div>
                <div class="col-xl order-xl-1">
                    <div id="carouselCampaign" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="images/campaign.webp" class="d-block w-100" loading="lazy" alt="Pixel Siege campaign mode teaser with green neon text 'Embark on a journey' and zoom-blurred forest background">
                            </div>
                            <div class="carousel-item">
                                <img src="images/bosses.webp" class="d-block w-100" alt="Pixel Siege campaign mode teaser featuring a giant crystal enemy, dark cave background, and blue neon text 'Defeat the deadliest beasts'">
                            </div>
                        </div>
                        <button class="carousel-control-prev carouselBtn" type="button" data-bs-target="#carouselCampaign" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next carouselBtn" type="button" data-bs-target="#carouselCampaign" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="mainDiv row" style="background-image:url('images/store background.webp') ; ">
            <div class="col-sm-1"></div>
            <div class="col sectionDiv mx-1 mx-md-5 my-1 py-4">
                <h1>VISIT OUR STORE!</h1>
                <h4>Get wonderful rewards and support us at the same time... what a deal!</h4>
                <a class="goldenBtn shine shakeRotation" href="https://store.pixel-siege.com" target="_blank">Visit</a>
                <br />
                <p class="goldenText d-inline-block m-0" style="font-size: 18px">WARNING: <span style="border-bottom: 2px solid rgba(235,170,27,1);">Irresistable offers guaranteed</span>!!!</p>
            </div>
            <div class="col-sm-1"></div>
        </div>
        
        </main>

    <div class="container">
        <div id="toast-message" class="custom-toast row align-items-center" style="display:none">
            <div id="toast-button" class="col">Subscribe to our newsletter!</div>
            <div class="toastClose col-auto">x</div>
        </div>
    </div>

    <div id="popup" class="popup">
        <div class="popup-content">
            <span class="close">x</span>
            <h1>SUBSCRIBE TO OUR NEWSLETTER</h1>
            <h2>AND NEVER MISS A THING!</h2>
            <br />
            <p id="newsletter-message"></p>
            <form id="newsletter-form">
                <input type="email" id="email" required placeholder="Your email">
                <br />
                <a href="#" id="submit-link" class="purpleBtn">Subscribe</a>
                <br />
            </form>
            <br />
            <p>We will not share your email address with any third parties</p>
        </div>
    </div>

    <footer>
        <div class="mainDiv row text-center" style="align-items:center">
            <div class="col-12 col-md-4 order-1 order-md-2 mb-3 mb-md-0">
                <h2 style="font-weight:bold">By Optical</h2>
            </div>
            <div class="col-12 col-md-4 order-2 order-md-1 d-md-flex justify-content-md-start mb-3 mb-md-0">
                <div>
                    <h6>External Links</h6>
                    <div class="hover-container" onclick="copyText(this, 'https://meisoptical.itch.io/pixel-siege')" onmouseleave="resetTooltip(this)">
                        <h5><img src="images/Icons/itchio.png" class="icon" loading="lazy" alt="Pixel Siege's Itch.io page'"></h5>
                        <div class="hover-text">Click to copy</div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-4 order-3 d-md-flex justify-content-md-end">
                <div>
                    <h6>Contact Info</h6>
                    <div class="hover-container" onclick="copyText(this, 'https://www.instagram.com/pixel.siege')" onmouseleave="resetTooltip(this)">
                        <h5><img src="images/Icons/instagram.png" class="icon" loading="lazy" alt="Contact Optical, Pixel Siege's developer, via his Discord"></h5>
                        <div class="hover-text">Click to copy</div>
                    </div>
                    <div class="hover-container" onclick="copyText(this, '@@optical9529')" onmouseleave="resetTooltip(this)">
                        <h5><img src="images/Icons/discord.png" class="icon" loading="lazy" alt="Contact Optical, Pixel Siege's developer, via his Discord"></h5>
                        <div class="hover-text">Click to copy</div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/scripts.js"></script>
    <script src="js/toast.js"></script>
    
    <script>
        // Newsletter random trigger (30% chance)
        if (Math.random() * 100 < 30) {
            // Wait a moment before showing the toast if scripts load fast
            setTimeout(() => {
                const toast = document.getElementById('toast-message');
                if (toast) toast.style.display = 'flex';
            }, 1000);
        }

        // Newsletter form logic
        document.getElementById('submit-link').addEventListener('click', function (event) {
            event.preventDefault();
            // Trigger form submit
            const emailInput = document.getElementById('email');
            if(emailInput.checkValidity()) {
                 submitNewsletter(emailInput.value);
            } else {
                 emailInput.reportValidity();
            }
        });

        async function submitNewsletter(email) {
            const messageDiv = document.getElementById('newsletter-message');
            try {
                const response = await fetch('https://newsletter.pixel-siege.com', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email }),
                });
                const text = await response.text();
                messageDiv.textContent = text;
                if (response.ok) {
                    messageDiv.style.color = 'lime';
                    const toast = document.getElementById('toast-message');
                    if(toast) toast.style.display = 'none';
                } else {
                    messageDiv.style.color = 'red';
                }
            } catch (error) {
                console.error('Submission failed:', error);
                messageDiv.textContent = 'An error occurred. Please try again later.';
                messageDiv.style.color = 'red';
            }
        }
    </script>

    <script>
        // Data from ListTroops.cs
        const troops = [
            { Name: "Duck", Rarity: 1, Unlock: "campaign", Image: "duck.png" },
            { Name: "Cobra", Rarity: 1, Unlock: "campaign", Image: "cobra.png" },
            { Name: "Spiky Turtle", Rarity: 2, Unlock: "campaign", Image: "spiky turtle.png" },
            { Name: "Shadow Samurai", Rarity: 4, Unlock: "campaign", Image: "shadow samurai.png" },
            { Name: "Knight Brute", Rarity: 3, Unlock: "campaign", Image: "knight brute.png" },
            { Name: "Worm King", Rarity: 4, Unlock: "campaign", Image: "worm king.png" },
            { Name: "Shadow Trooper", Rarity: 1, Unlock: "levelup rewards", Image: "shadow trooper.png" },
            { Name: "Cursed Skull", Rarity: 2, Unlock: "levelup rewards", Image: "cursed skull.png" },
            { Name: "Prototype", Rarity: 3, Unlock: "missions", Image: "prototype.png" },
            { Name: "Piñata", Rarity: 2, Unlock: "missions", Image: "pinata.png" },
            { Name: "Spider Machine", Rarity: 2, Unlock: "tech overload", Image: "spider machine.png" },
            { Name: "Data Collector", Rarity: 4, Unlock: "tech overload", Image: "data collector.png" },
            { Name: "Tank", Rarity: 3, Unlock: "warzone", Image: "tank.png" },
            { Name: "Zombie", Rarity: 1, Unlock: "apocalypse", Image: "zombie.png" },
            { Name: "Bishop", Rarity: 2, Unlock: "checkmate!", Image: "chess Bishop.png" },
            { Name: "Occult Leader", Rarity: 4, Unlock: "occult encounter", Image: "occult leader.png" }
        ];

        // Shuffle logic (C# Guid.NewGuid order)
        const shuffledTroops = troops.sort(() => Math.random() - 0.5);

        // Concat logic (shuffledTroops.Concat(shuffledTroops))
        const finalTroopList = shuffledTroops.concat(shuffledTroops);

        const troopContainer = document.getElementById('troopList');

        finalTroopList.forEach(troop => {
            const div = document.createElement('div');
            div.className = 'troopDiv';
            div.style.backgroundImage = `url('images/Cards/rarity ${troop.Rarity}.webp')`;

            div.innerHTML = `
                <h2>${troop.Name}</h2>
                <img src="images/Troops/${troop.Image}" alt="${troop.Name} image" />
                <div class="stats-text">
                    <h6>Unlock in</h6>
                    <h6 class="statsUnlock" style="background-image: url('images/Game modes/${troop.Unlock} icon.webp')">${troop.Unlock}</h6>
                </div>
            `;
            troopContainer.appendChild(div);
        });
    </script>

</body>
</html>