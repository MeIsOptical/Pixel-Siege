<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="../images/Icons/App Logo v2.png" type="image/x-icon">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">    

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/troops.css">
    <link rel="stylesheet" href="../css/popup.css">
    <link rel="stylesheet" href="../css/dropdown.css">
    <link rel="stylesheet" href="../css/posts.css">

    <title>Pixel Siege</title>
    <meta name="description" content="Pixel Siege is a strategic, pixel-art collection game where you battle through endless waves of enemies, unlock a wide variety of unique troops, and face intense challenges and powerful bosses. Explore carefully crafted levels with a satisfying progression system and original storytelling.">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5406816563691804" crossorigin="anonymous"></script>
</head>

<body>

    <header>
        <div class="mainDiv row align-items-center">
            <div class="col-lg-1">
                <img src="../images/transparent logo.png" class="ps-logo" alt="Pixel Siege retro blue/pink logo" />
            </div>

            <div class="col-lg mt-1 mt-lg-0">
                <div class="headerDiv justify-content-lg-end d-lg-flex">
                    <a href="/" class="navSelect navAlign">Home</a>
                    <a href="/play/" class="navSelect navAlign">Play</a>
                    <a href="https://store.pixel-siege.com" class="navSelect navAlign goldenBtn shine" target="_blank">Store</a>
                    <div class="ps-dropdown navAlign">
                        <a class="ps-dropdown-toggle">More</a>
                        <div class="ps-dropdown-menu">
                            <a href="/posts/" class="ps-dropdown-item navSelect">Posts</a>
                            <a href="/about/" class="ps-dropdown-item navSelect">About</a>
                            <a href="/privacy/" class="ps-dropdown-item navSelect">Privacy Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="fade-slide-up">
        
        <div class="mainDiv py-4" style="background-image: url('../images/background campaign.webp')">

            <h1>WHERE TO PLAY?</h1>
            <br />

            <div class="row flex-column flex-xl-row pb-xl-4">
                <div class="col sectionDiv py-5 align-content-center">
                    <h2 class="mb-4">PLAY IN YOUR BROWSER</h2>
                    <iframe id="gameIFrame" frameborder="0" src="https://itch.io/embed/3479214?linkback=true&amp;border_width=3&amp;dark=true" width="90%" height="75%"><a href="https://meisoptical.itch.io/pixel-siege">Pixel Siege by Optical</a></iframe>
                </div>

                <div class="col sectionDiv py-4 align-content-center">
                    <h2 class="mb-4">INSTALL ON YOUR DEVICE</h2>
                    <a href="/download/pixel-siege.apk" download>For Android</a>
                    <a href="/download/pixel-siege-windows-setup.exe" download>For Windows</a>
                </div>
            </div>
            
            </div>

        <div class="mainDiv row" style="background-image:url('../images/store background.webp') ; ">
            <div class="col-sm-1"></div>
            <div class="col sectionDiv mx-1 mx-md-5 my-1 py-4">
                <h1>VISIT OUR STORE!</h1>
                <h4>Get wonderful rewards and support us at the same time... what a deal!</h4>
                <a class="goldenBtn shine shakeRotation" href="https://store.pixel-siege.com" target="_blank">Visit</a>
                <br />
                <p class="goldenText d-inline-block m-0" style="font-size: 18px">WARNING: <span style="border-bottom: 2px solid rgba(235,170,27,1);">Irresistable offers guaranteed</span>!!!</p>
            </div>
            <div class="col-sm-1"></div>
        </div>

        </main>

    <div class="container">
        <div id="toast-message" class="custom-toast row align-items-center" style="display:none">
            <div id="toast-button" class="col">Subscribe to our newsletter!</div>
            <div class="toastClose col-auto">x</div>
        </div>
    </div>
    <div id="popup" class="popup">
        <div class="popup-content">
            <span class="close">x</span>
            <h1>SUBSCRIBE TO OUR NEWSLETTER</h1>
            <h2>AND NEVER MISS A THING!</h2>
            <br />
            <p id="newsletter-message"></p>
            <form id="newsletter-form">
                <input type="email" id="email" required placeholder="Your email">
                <br />
                <a href="#" id="submit-link" class="purpleBtn">Subscribe</a>
                <br />
            </form>
            <br />
            <p>We will not share your email address with any third parties</p>
        </div>
    </div>

    <footer>
        <div class="mainDiv row text-center" style="align-items:center">
            <div class="col-12 col-md-4 order-1 order-md-2 mb-3 mb-md-0">
                <h2 style="font-weight:bold">By Optical</h2>
            </div>
            <div class="col-12 col-md-4 order-2 order-md-1 d-md-flex justify-content-md-start mb-3 mb-md-0">
                <div>
                    <h6>External Links</h6>
                    <div class="hover-container" onclick="copyText(this, 'https://meisoptical.itch.io/pixel-siege')" onmouseleave="resetTooltip(this)">
                        <h5><img src="../images/Icons/itchio.png" class="icon" loading="lazy" alt="Pixel Siege's Itch.io page'"></h5>
                        <div class="hover-text">Click to copy</div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-4 order-3 d-md-flex justify-content-md-end">
                <div>
                    <h6>Contact Info</h6>
                    <div class="hover-container" onclick="copyText(this, 'https://www.instagram.com/pixel.siege')" onmouseleave="resetTooltip(this)">
                        <h5><img src="../images/Icons/instagram.png" class="icon" loading="lazy" alt="Contact Optical, Pixel Siege's developer, via his Discord"></h5>
                        <div class="hover-text">Click to copy</div>
                    </div>
                    <div class="hover-container" onclick="copyText(this, '@@optical9529')" onmouseleave="resetTooltip(this)">
                        <h5><img src="../images/Icons/discord.png" class="icon" loading="lazy" alt="Contact Optical, Pixel Siege's developer, via his Discord"></h5>
                        <div class="hover-text">Click to copy</div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="../js/scripts.js"></script>
    <script src="../js/toast.js"></script>

    <script>
        function goFullscreen() {
            const iframe = document.getElementById('gameIFrame');
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.webkitRequestFullscreen) { // Safari
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) { // IE11
                iframe.msRequestFullscreen();
            }
        }

        document.querySelector('iframe').addEventListener('touchstart', function () {
            this.focus();
        });
    </script>
    
    <script>
         if (Math.random() * 100 < 30) {
            setTimeout(() => {
                const toast = document.getElementById('toast-message');
                if (toast) toast.style.display = 'flex';
            }, 1000);
        }
        document.getElementById('submit-link').addEventListener('click', function (event) {
            event.preventDefault();
            const emailInput = document.getElementById('email');
            if(emailInput.checkValidity()) submitNewsletter(emailInput.value);
            else emailInput.reportValidity();
        });
        async function submitNewsletter(email) {
            const messageDiv = document.getElementById('newsletter-message');
            try {
                const response = await fetch('https://newsletter.pixel-siege.com', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email }),
                });
                const text = await response.text();
                messageDiv.textContent = text;
                if (response.ok) {
                    messageDiv.style.color = 'lime';
                    const toast = document.getElementById('toast-message');
                    if(toast) toast.style.display = 'none';
                } else {
                    messageDiv.style.color = 'red';
                }
            } catch (error) {
                console.error('Submission failed:', error);
                messageDiv.textContent = 'An error occurred. Please try again later.';
                messageDiv.style.color = 'red';
            }
        }
    </script>

</body>
</html>